<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data Visualization API · RegistrationGraph</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RegistrationGraph</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">RegistrationGraph.jl Documentation</a></li><li><a class="tocitem" href="../graphs/">Graph Construction API</a></li><li><a class="tocitem" href="../openmind/">OpenMind Interaction API</a></li><li><a class="tocitem" href="../postprocessing/">Post-Processing API</a></li><li class="is-active"><a class="tocitem" href>Data Visualization API</a><ul class="internal"><li><a class="tocitem" href="#Commonly-Used-Functions"><span>Commonly Used Functions</span></a></li><li><a class="tocitem" href="#Other-Functions"><span>Other Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Data Visualization API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data Visualization API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/master/docs/src/visualization.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Data-Visualization-API"><a class="docs-heading-anchor" href="#Data-Visualization-API">Data Visualization API</a><a id="Data-Visualization-API-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Visualization-API" title="Permalink"></a></h1><h2 id="Commonly-Used-Functions"><a class="docs-heading-anchor" href="#Commonly-Used-Functions">Commonly Used Functions</a><a id="Commonly-Used-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Commonly-Used-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.make_diff_pngs" href="#RegistrationGraph.make_diff_pngs"><code>RegistrationGraph.make_diff_pngs</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Makes PNG files to visualize how well the registration worked, by overlaying fixed and moving images. The fixed image will be red and the moving image will be green, so yellow indicates good registration.</p><p><strong>Arguments</strong></p><ul><li><code>param_path::Dict</code>: Dictionary containing paths to files</li><li><code>param::Dict</code>: Dictionary containing parameter setting <code>reg_n_resolution</code>, an array of registration resolutions for each parameter file (eg for affine regstration with 3 resolutions   and bspline registration with 4 resolutions, this would be <code>[3,4]</code>)</li><li><code>get_basename::Function</code>: Function mapping two timepoints to the base MHD filename corresponding to them.</li><li><code>fixed::Integer</code>: timestamp (frame number) of fixed image</li><li><code>moving::Integer</code>: timestamp (frame number) of moving image</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>proj_dim::Integer</code>: Dimension to project data. Default 3 (z-dimension)</li><li><code>fixed_ch_key::Integer</code>: Key in <code>param</code> to channel for the fixed image. Default <code>ch_marker</code>. (The moving image is the image automatically generated from the registration.)</li><li><code>regdir_key::String</code>: Key in <code>param_path</code> corresponding to the registration directory. Default <code>path_dir_reg</code>.</li><li><code>mhd_key::String</code>: Key in <code>param_path</code> corresponding to the MHD directory. Default <code>path_dir_mhd_filt</code>.</li><li><code>result::String</code>: Name of resulting file. If left as default it the same as the corresponding MHD file.</li><li><code>contrast_f::Real</code>: Contrast of fixed image portion of PNG. Default 1.</li><li><code>contrast_m::Real</code>: Contrast of moving image portion of PNG. Default 1.</li><li><code>swap_colors::Bool</code>: If set to <code>true</code>, fixed image will be green and moving image will be red.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L189-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.make_diff_pngs_base" href="#RegistrationGraph.make_diff_pngs_base"><code>RegistrationGraph.make_diff_pngs_base</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Makes PNG files before registration, directly comparing two frames. The fixed image will be red and the moving image will be green, so yellow indicates good registration.</p><p><strong>Arguments</strong></p><ul><li><code>param_path::Dict</code>: Dictionary containing paths to files</li><li><code>param::Dict</code>: Dictionary containing parameter settings</li><li><code>get_basename::Function</code>: Function mapping two timepoints to the base MHD filename corresponding to them.</li><li><code>fixed::Integer</code>: timestamp (frame number) of fixed image</li><li><code>moving::Integer</code>: timestamp (frame number) of moving image</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>proj_dim::Integer</code>: Dimension to project data. Default 3 (z-dimension)</li><li><code>regdir_key::String</code>: Key in <code>param_path</code> corresponding to the registration directory. Default <code>path_dir_reg</code>.</li><li><code>mhd_key::String</code>: Key in <code>param_path</code> corresponding to the MHD directory. Default <code>path_dir_mhd_filt</code>.</li><li><code>moving_ch_key::Integer</code>: Key in <code>param</code> corresponding to channel for the moving image. Default <code>ch_marker</code>.</li><li><code>fixed_ch_key::Integer</code>: Key in <code>param</code> corresponding to channel for the fixed image. Default <code>ch_marker</code>.</li><li><code>contrast_f::Real</code>: Contrast of fixed image portion of PNG. Default 1.</li><li><code>contrast_m::Real</code>: Contrast of moving image portion of PNG. Default 1.</li><li><code>swap_colors::Bool</code>: If set to <code>true</code>, fixed image will be green and moving image will be red.</li><li><code>png_name::String</code>: Name of output file. Default <code>noreg.png</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L248-L269">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.mhd_to_png" href="#RegistrationGraph.mhd_to_png"><code>RegistrationGraph.mhd_to_png</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Converts an mhd file at <code>mhd_path::String</code> into a PNG file, saved to path <code>png_path::String</code>, using maximum intensity projection. The optional argument <code>proj_dim</code> (default 3) can be changed to project in a different dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L293-L296">source</a></section></article><h2 id="Other-Functions"><a class="docs-heading-anchor" href="#Other-Functions">Other Functions</a><a id="Other-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.visualize_roi_predictions" href="#RegistrationGraph.visualize_roi_predictions"><code>RegistrationGraph.visualize_roi_predictions</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Visualizes a comparison between an ROI image and a registration-mapped version.</p><p><strong>Arguments</strong></p><ul><li><code>img_roi</code>: ROI image in the fixed frame</li><li><code>img_roi_regmap</code>: moving frame ROI image registration-mapped to the fixed frame</li><li><code>img</code>: raw image in the fixed frame</li><li><code>img_regmap</code>: raw image in the moving frame</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>color_brightness::Real</code>: brightness of ROI colors. Default 0.3.</li><li><code>plot_size</code>: size of plot. Default (600, 600)</li><li><code>roi_match</code>: matches between ROIs in the two frames, as a dictionary whose keys are ROIs in the moving frame      and whose values are the corresponding ROIs in the fixed frame.</li><li><code>unmatched_color</code>: If set, all ROIs in the moving frame without a corresponding match in the fixed frame will be this color.</li><li><code>make_rgb</code>: If set, will generate red vs green display of ROI locations.</li><li><code>highlight_rois</code>: A list of ROIs in the fixed frame to be highlighted.</li><li><code>highlight_regmap_rois</code>: A list of ROIs in the moving frame to be highlighted.</li><li><code>highlight_color</code>: Highlight color, as an RGB. Default blue, aka <code>RGB.(0,0,1)</code></li><li><code>contrast::Real</code>: Contrast of raw images. Default 2.</li><li><code>semantic::Bool</code>: If set to true, <code>img_regmap</code> should instead be a semantic segmentation of the fixed frame image. Default false.</li><li><code>z_offset::Integer</code>: z-offset of the moving image relative to the fixed image; the moving image will be shifted towards z=0 by this amount.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L81-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.view_roi_regmap" href="#RegistrationGraph.view_roi_regmap"><code>RegistrationGraph.view_roi_regmap</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Plots instance segmentation image and registration-mapped instance segmentation on the same plot, where each object is given a different color, the original image is shades of red, and the registration-mapped image is shades of green.</p><p><strong>Arguments</strong></p><ul><li><code>img_roi</code>: 3D instance segmentation image</li><li><code>img_roi_regmap</code>: 3D instance segmentation image from another frame, mapped via registration.</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>color_brightness::Real</code>: minimum RGB value (out of 1) that an object will be plotted with. Default 0.3</li><li><code>plot_size</code>: size of the plot. Default (600,600)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L34-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.gen_regmap_rgb" href="#RegistrationGraph.gen_regmap_rgb"><code>RegistrationGraph.gen_regmap_rgb</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generates a colormap that encodes the difference between the ROI image and the registration-mapped version using shades of red and green.</p><p><strong>Arguments</strong></p><ul><li><code>img_roi</code>: ROI image in the fixed frame</li><li><code>img_roi_regmap</code>: moving frame ROI image registration-mapped to the fixed frame</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>color_brightness::Real</code>: maximum brightness of ROIs. Default 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L57-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.make_rgb_arr" href="#RegistrationGraph.make_rgb_arr"><code>RegistrationGraph.make_rgb_arr</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Makes a <code>PyPlot</code>-compatible RGB array out of <code>red</code>, <code>green</code>, and <code>blue</code> channels.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L168-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RegistrationGraph.plot_centroid_match" href="#RegistrationGraph.plot_centroid_match"><code>RegistrationGraph.plot_centroid_match</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Plots fixed, and inferred moving, centroids over the fixed worm image. Additionally, draws lines between matched centroids.</p><p><strong>Arguments</strong></p><ul><li><code>fixed_image</code>: fixed image of the worm (2D)</li><li><code>matches</code>: List of pairs of centroids (which are tuples of (x,y) coordinates) that match.</li><li><code>centroids_actual</code>: centroids determined directly from the fixed image</li><li><code>centroids_inferred</code>: centroids determined from the moving image, and then mapped onto the fixed image via registration.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/RegistrationGraph.jl/blob/c3bca096ca2b83119ef7a38473089f847e59ae6a/src/registration_visualization.jl#L1-L11">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../postprocessing/">« Post-Processing API</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.8 on <span class="colophon-date" title="Thursday 14 October 2021 20:11">Thursday 14 October 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
